var PhonePe=function(e){var t={};function n(i){if(t[i])return t[i].exports;var s=t[i]={i:i,l:!1,exports:{}};return e[i].call(s.exports,s,s.exports,n),s.l=!0,s.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=6)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){let t,n,i,s,a;!function(e){e.READ_SMS="READ_SMS",e.LOCATION="LOCATION"}(t=e.Permission||(e.Permission={})),function(e){e.web="web",e.native="native"}(n=e.Species||(e.Species={})),function(e){e.ios="ios",e.android="android"}(i=e.OS||(e.OS={})),function(e){e.ios="phonepe-ios",e.android="phonepe-android"}(s=e.OSUserAgent||(e.OSUserAgent={})),function(e){e.email="email",e.name="name",e.phoneNumber="phoneNumber",e.isEmailVerified="isEmailVerified"}(a=e.UserDetail||(e.UserDetail={}))}(t.ExternalConstants||(t.ExternalConstants={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){let t,n,i,s,a,r,o,c,l;!function(e){e.reject="reject",e.resolve="resolve",e.callbackId="callbackId",e.prefName="prefName",e.key="key",e.defaultValue="defaultValue",e.value="value",e.min="min",e.max="max"}(t=e.General||(e.General={})),function(e){e.androidBridgeName="PreferencesBridge",e.getItem="getItem",e.setItem="setItem",e.removeItem="removeItem",e.removeItemAndroid="removeKey"}(n=e.Preferences||(e.Preferences={})),function(e){e.supportedVersion="getSupportedWebSDKVersion",e.androidBridgeName="MetadataBridge"}(i=e.Metadata||(e.Metadata={})),function(e){e.androidBridgeName="LocationBridge",e.startUpdatingLocation="startUpdatingLocation",e.stopUpdatingLocation="stopUpdatingLocation",e.getCurrentLocation="getCurrentLocation",e.locationSuccessEventKey="locationUpdated",e.locationFailureEventKey="failedToUpdateLocation",e.forceNewLocation="forceNew",e.getAddress="getAddress"}(s=e.Location||(e.Location={})),function(e){e.androidBridgeName="NavigationBridge",e.processRequest="processRequest",e.navigateToPath="navigateToPath",e.navigateToPathForResult="navigateToPathForResult"}(a=e.Navigation||(e.Navigation={})),function(e){e.navigateToPaymentsView="openPaymentsPage",e.navigateToTransactionDetail="openTransactionDetailsPage",e.navigateToHelpPage="openHelpPage",e.navigateToReactView="openReactView"}(r=e.NavigationIOS||(e.NavigationIOS={})),function(e){e.merchantId="merchantId",e.discoveryMode="mode",e.discoveryModeValue="PEER_TO_MERCHANT",e.title="Pay",e.transactionType="SENT_PAYMENT",e.timeoutTitle="Payment Expired",e.timeoutMessage="Sorry! Your payment request timed out. Please try again.",e.timeoutActionButtonTitle="OK",e.dismissTitle="Are you sure?",e.dismissMessage="Going back will cancel the payment. Are you sure you want to proceed?",e.dismissPositiveButtonTitle="I'm sure",e.dismissNegativeButtonTitle="Dismiss"}(o=e.Payments||(e.Payments={})),function(e){e.getUserDetails="getUserDetails",e.androidBridgeName="UserBridge",e.attributes="attributes"}(c=e.User||(e.User={})),function(e){e.androidBridgeName="CameraBridge",e.scanQRCode="scanQRCode",e.startCamera="startCamera"}(l=e.Camera||(e.Camera={}))}(t.PhonePeSDKWebConstants||(t.PhonePeSDKWebConstants={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(4),s=n(5),a=n(1),r=n(11);class o{static callback(e,t,n,i){s.Logger.logd("PhonePe","phonepeCallback called! with callbackName = "+e);let r=o.promiseMapping[e];r&&("1"===t?r[a.PhonePeSDKWebConstants.General.resolve](n):r[a.PhonePeSDKWebConstants.General.reject](i),delete o.promiseMapping[e])}static callNative(e,t,n){if(!r.MethodVersioningHandler.isMethodSupported(e))return void s.Logger.logd("PhonePe","Sorry! This method is not supported with PhonePe app's version");s.Logger.logd("PhonePe","Trying to call methodName = "+e);let a=window.webkit;if(i.PhonePeUtils.isValidMethodOniOS(e))a.messageHandlers[e].postMessage(n);else{window[t][e](JSON.stringify(n))}}static storePromiseAndCallNative(e,t,n){return new Promise((s,r)=>{let o=i.PhonePeUtils.createuuid();n[a.PhonePeSDKWebConstants.General.callbackId]=o,this.callNative(e,t,n),this.promiseMapping[o]={resolve:s,reject:r}})}}o.promiseMapping={},t.MessagingHandler=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){let t,n,i,s,a,r;e.sdkVersion="0.1",e.PhonePeSDKRNMajorVersion=0,e.PhonePeSDKRNMinorVersion=53,e.data_preferences="database_versions",e.PhonePeSDKVersion=4,function(e){e.invalidParams="PARAMS_INVALID_OR_INSUFFICIENT"}(t=e.ErrorCode||(e.ErrorCode={})),function(e){e.payments=103,e.transactionDetails=105}(n=e.ActivityID||(e.ActivityID={})),function(e){e.name="PermissionsBridge",e.seekPermission="seekPermission",e.openSettingsPage="openSettingsPageForPermission",e.androidPrefix="android.permission.",e.locationPermissionName="ACCESS_FINE_LOCATION",e.kPermission="permission"}(i=e.PermissionsBridge||(e.PermissionsBridge={})),function(e){e.bridgeName="AnalyticsBridge",e.methodName="logMerchantEvent",e.kName="name",e.kMetadata="metadata",e.kGroupingKey="groupingKey"}(s=e.AnalyticsBridge||(e.AnalyticsBridge={})),function(e){e.bridgeName="AuthBridge",e.methodName="fetchGrantToken"}(a=e.AuthBridge||(e.AuthBridge={})),function(e){e.bridgeName="CameraBridge",e.scanQRCode="scanQRCode",e.startCamera="startCamera"}(r=e.CameraBridge||(e.CameraBridge={}))}(t.InternalConstants||(t.InternalConstants={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),s=n(3);var a=i.ExternalConstants.Permission;class r{static assert(e,t){if(!e)throw new Error(t)}static assertString(e,t){r.assertType(e,"string",t)}static assertNumber(e,t){r.assertType(e,"number",t)}static assertBoolean(e,t){r.assertType(e,"boolean",t)}static assertFunction(e,t){r.assertType(e,"function",t)}static assertArray(e,t){if((!t||e)&&e.constructor!==Array)throw new TypeError(s.InternalConstants.ErrorCode.invalidParams)}static assertObject(e,t){r.assertType(e,"object",t)}static assertType(e,t,n){if((!n||e)&&typeof e!==t)throw new TypeError(s.InternalConstants.ErrorCode.invalidParams)}static returnResolution(e){return new Promise((t,n)=>{t(e)})}static returnRejection(e){return new Promise((t,n)=>{n(e)})}static isValidSpecies(e){return e===i.ExternalConstants.Species.web||e===i.ExternalConstants.Species.native}static isValidOS(e){return e===i.ExternalConstants.OS.ios||e===i.ExternalConstants.OS.android}static createuuid(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})}static osSpecificPermissionNames(e,t){let n=[];for(let r of e)if(t===i.ExternalConstants.OS.ios)n.push(a[r]);else{let e="";e=r===a.LOCATION?s.InternalConstants.PermissionsBridge.androidPrefix+s.InternalConstants.PermissionsBridge.locationPermissionName:s.InternalConstants.PermissionsBridge.androidPrefix+a[r],n.push(e)}return n}static strippedPermissionName(e,t){if(t===i.ExternalConstants.OS.ios)return e;let n=s.InternalConstants.PermissionsBridge.androidPrefix,r=e.replace(new RegExp("^"+n),"");return r===s.InternalConstants.PermissionsBridge.locationPermissionName&&(r=a.LOCATION),r}static isValidMethodOniOS(e){let t=window.webkit;return t&&t.messageHandlers&&t.messageHandlers[e]&&"function"==typeof t.messageHandlers[e].postMessage}}t.PhonePeUtils=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(6);class s{static isLoggingEnabled(){return i.PhonePe.loggingEnabled}static logd(e,t){s.isLoggingEnabled()&&console.log("["+e+"] "+t)}constructor(e){this.tag=e}logd(e){s.logd(this.tag,e)}logAnything(e){console.log(e)}logError(e){0}}t.Logger=s},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(s,a){function r(e){try{c(i.next(e))}catch(e){a(e)}}function o(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){e.done?s(e.value):new n(function(t){t(e.value)}).then(r,o)}c((i=i.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const s=n(7),a=n(35),r=n(33),o=n(31),c=n(11),l=n(4),d=n(29),u=n(25),h=n(22),g=n(17),P=n(15),p=n(2),m=n(8),v=n(3),N=n(0),T=n(1),y=n(9),E=n(10);var C=N.ExternalConstants.Permission;const f=n(13);t.MessagingHandler=p.MessagingHandler,t.EventHandler=m.EventHandler,t.Constants=N.ExternalConstants,t.PaymentModels=E.ExternalPaymentModels;class S{constructor(e,t){this.preferencesModule=g.NativePreferenceBridgeFactory.getNativePreferenceBridge(e,t),this.locationModule=u.LocationBridgeFactory.getNativeLocationBridge(e,t),this.navigationModule=h.NativeNavigationFactory.repository(e,t),this.cameraBridge=f.NativeCameraBridgeFactory.getNativeCameraBridge(e),this.permissionsBridge=o.NativePermissionsBridgeFactory.getPermissionsBridge(e,t),this.analyticsBridge=r.NativeAnalyticsBridgeFactory.getNativeAnalyticsBridge(e,t),this.authBridge=a.NativeOAuthBridgeFactory.bridge(e),this.deviceInfoBridge=P.NativeDeviceInfoBridgeFactory.bridge(e),this.species=e}static build(e,t){return i(this,void 0,void 0,function*(){let n=t;if(n||(n=this.getOperatingSystem(e)),!n)throw new Error(v.InternalConstants.ErrorCode.invalidParams);if(!l.PhonePeUtils.isValidSpecies(e)||!l.PhonePeUtils.isValidOS(n))throw new Error(v.InternalConstants.ErrorCode.invalidParams);let i=new S(e,n);return e===N.ExternalConstants.Species.web&&(yield c.MethodVersioningHandler.initSupportedVersionFromNative()),i})}static getOperatingSystem(e){if(e===N.ExternalConstants.Species.web){if(-1!==navigator.userAgent.search(N.ExternalConstants.OSUserAgent.android))return N.ExternalConstants.OS.android;if(-1!==navigator.userAgent.search(N.ExternalConstants.OSUserAgent.ios))return N.ExternalConstants.OS.ios;let e=T.PhonePeSDKWebConstants.NavigationIOS.navigateToPaymentsView;return l.PhonePeUtils.isValidMethodOniOS(e)?N.ExternalConstants.OS.ios:N.ExternalConstants.OS.android}return N.ExternalConstants.OS.android}getItem(e,t,n){try{l.PhonePeUtils.assertString(e),l.PhonePeUtils.assertString(t),l.PhonePeUtils.assertString(n,!0)}catch(e){return l.PhonePeUtils.returnRejection(e)}return this.preferencesModule.getString(e,t,n)}setItem(e,t,n){try{l.PhonePeUtils.assertString(e),l.PhonePeUtils.assertString(t),l.PhonePeUtils.assertString(n)}catch(e){return l.PhonePeUtils.returnRejection(e)}return this.preferencesModule.saveString(e,t,n),l.PhonePeUtils.returnResolution(void 0)}removeItem(e,t){try{l.PhonePeUtils.assertString(e),l.PhonePeUtils.assertString(t)}catch(e){return l.PhonePeUtils.returnRejection(e)}return this.preferencesModule.removeItem(e,t),l.PhonePeUtils.returnResolution(void 0)}startUpdatingLocation(){this.locationModule.startUpdatingLocation()}stopUpdatingLocation(){this.locationModule.stopUpdatingLocation()}getCurrentLocation(){return this.locationModule.getCurrentLocation(!0)}registerLocationUpdateSuccessCallback(e,t){try{l.PhonePeUtils.assertString(e),l.PhonePeUtils.assertFunction(t)}catch(e){return l.PhonePeUtils.returnRejection(e)}let n=this.locationModule.onLocationUpdateSuccess(e,t);return l.PhonePeUtils.returnResolution(n)}registerLocationUpdateFailureCallback(e,t){try{l.PhonePeUtils.assertString(e),l.PhonePeUtils.assertFunction(t)}catch(e){return l.PhonePeUtils.returnRejection(e)}let n=this.locationModule.onLocationUpdateFailure(e,t);return l.PhonePeUtils.returnResolution(n)}openPaymentsPage(e,t,n,i,s,a){try{l.PhonePeUtils.assertString(e),l.PhonePeUtils.assertObject(t),this.species===N.ExternalConstants.Species.web&&l.PhonePeUtils.assertString(n,!0),l.PhonePeUtils.assertString(i,!0),l.PhonePeUtils.assertArray(s,!0)}catch(e){return l.PhonePeUtils.returnRejection(e)}let r=t[y.ExternalPaymentsNamespace.Constant.kPayableAmount],o={};r&&(o={amount:r}),this.logMerchantEvent("CATEGORY_PAYMENT_INIT",o);let c=d.ExternalNavigationFactory.paymentNavigationRequest(e,t,n,i,s,a);return new Promise((e,n)=>{this.navigationModule.processNavigationRequestForResultAsync(c).then(n=>{let i={},s=y.ExternalPaymentsNamespace.Constant.kMerchantTransactionId,a=t[s];a&&(i[s]=a),e(i)}).catch(e=>{n(e)})})}openTransactionDetailsPage(e){try{l.PhonePeUtils.assertString(e)}catch(e){return l.PhonePeUtils.returnRejection(e)}let t=d.ExternalNavigationFactory.transactionDetailRequest(e);return this.navigationModule.processNavigationRequestForResultAsync(t)}seekPermission(e){try{l.PhonePeUtils.assertArray(e);for(let t of e)l.PhonePeUtils.assertString(t),l.PhonePeUtils.assert(void 0!==C[t],v.InternalConstants.ErrorCode.invalidParams)}catch(e){return l.PhonePeUtils.returnRejection(e)}return this.permissionsBridge.seekPermission(e)}openSettingsPageForPermission(){return this.permissionsBridge.openSettingsPageForPermission()}scanQRCode(e,t=".*"){return this.cameraBridge.scanQRCode(e,t)}startCamera(){return this.cameraBridge.startCamera()}loadFont(e,t,n){if(this.species===N.ExternalConstants.Species.web)return l.PhonePeUtils.returnRejection(v.InternalConstants.ErrorCode.invalidParams);throw new Error("Wrong species sent")}logMerchantEvent(e,t){try{l.PhonePeUtils.assertString(e),l.PhonePeUtils.assertObject(t,!0)}catch(e){return l.PhonePeUtils.returnRejection(e)}return this.analyticsBridge.logMerchantEvent(e,t)}fetchGrantToken(){return this.authBridge.fetchGrantToken()}getDeviceInfo(){return this.deviceInfoBridge.getDeviceInfo()}closeApp(){let e=new s.CloseAppNavRequest("");this.navigationModule.closeAppRequest(e)}openMicroApp(e,t){try{l.PhonePeUtils.assertString(e),l.PhonePeUtils.assertObject(t,!0)}catch(e){return l.PhonePeUtils.returnRejection(e)}let n=new s.MicroAppNavigationRequest(e,t,"",!0,!1);return this.navigationModule.processNavigationRequestAsync(n)}isMethodSupported(e){return c.MethodVersioningHandler.isMethodSupported(e)}}S.loggingEnabled=!1,t.PhonePe=S},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.WebView="WebView",e.ReactView="ReactView",e.PaymentsView="PaymentView",e.AppScreen="AppScreen",e.ContactPicker="ContactPicker",e.TransactionDetail="TransactionDetail",e.Profile="Profile",e.HelpPage="HelpPage",e.MandateSetup="MandateSetup",e.AddToWallet="AddToWallet",e.MicroApp="MicroApp",e.PWAWebView="PWAWebView"}(i=t.NavigationScreenType||(t.NavigationScreenType={}));class s{constructor(e,t,n,i){this.screenType=e,this.title=t,this.animated=n,this.showModally=i,this.isNewTask=!1}}t.BaseNavigationRequest=s;t.ReactViewNavigationRequest=class extends s{constructor(e,t,n,s,a,r,o,c,l,d,u,h){super(i.ReactView,s,a,r),this.appId=h,this.bundleName=e,this.componentName=t,this.shouldShowToolbar=n,this.toolBarText=s,this.animated=a,this.showModally=r,this.initialProperties=o,this.category=c,this.merchantId=l,this.merchantName=d,this.tAndCUrl=u}};t.WebViewNavigationRequest=class extends s{constructor(e,t,n,s,a,r,o,c,l){super(i.WebView,t,c,l),this.url=e,this.title=t,this.shouldShowToolBar=n,this.shouldShowBackButton=s,this.screenName=a,this.shouldAllowWebViewBack=r,this.shouldShowProgressWhileLoading=o}};t.PWAWebViewNavigationRequest=class extends s{constructor(e,t,n){super(i.PWAWebView,"",!0,!0),this.merchantId=e,this.deepLinkUrl=t,this.appId=n}};t.AppScreenNavigationRequest=class extends s{constructor(e,t,n,s,a,r){super(i.AppScreen,s,a,r),this.screenName=e,this.url=t,this.params=n}};t.PaymentMetaData=class{constructor(e){this.details=e}};t.PaymentNavigationRequest=class extends s{constructor(e,t,n,s,a,r,o,c,l,d){super(i.PaymentsView,t,n,s),this.mode=a,this.microPayRequest=r,this.internalPaymentUiConfig=o,this.transactionType=c,this.metaData=l,this.originInfo=d}};t.MandateSetupNavigationRequest=class extends s{constructor(e,t,n,s,a,r){super(i.MandateSetup,n,s,a),this.mandateContext=e,this.mandateUiConfig=t,this.mandateType=r||"MERCHANT"}};t.AddToWalletNavigationRequest=class extends s{constructor(e,t,n,s){super(i.AddToWallet,t,n,s),this.addToWalletUiContext=e}};t.TransactionDetailsNavigationRequest=class extends s{constructor(e,t,n,s,a,r,o){super(i.TransactionDetail,t,n,s),this.transactionId=a,this.transactionType=r,this.info=o}};t.ContactNavigationRequest=class extends s{constructor(e,t,n,s,a,r,o,c,l,d,u,h,g,P){super(i.ContactPicker,t,n,s),this.contactPickerMode=a,this.contactPickerType=r,this.initialContacts=o,this.transactionType=c,this.isVpaEnable=l,this.isSelfEnable=d,this.phoneContact=u,this.vpaContact=h,this.accountContact=g}};t.ProfileNavRequest=class extends s{constructor(e,t,n,i){super(e,t,n,i)}};t.HelpPageNavRequest=class extends s{constructor(e,t,n,s,a,r,o,c,l){super(i.HelpPage,t,n,s),this.transactionId=e,this.screen=o,this.url=c,this.shouldShowToolBar=a,this.shouldAllowWebViewBack=r,this.freshBotIntentData=l}};t.FreshBotIntentData=class{constructor(e){this.freshBotScreens=e,this.queryParams={}}};t.CloseAppNavRequest=class{constructor(e){this.appIdentifier=e}};t.MicroAppNavigationRequest=class extends s{constructor(e,t,n,s,a){super(i.MicroApp,n,s,a),this.appId=e,this.initialProperties=t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(5);class s{static addSubscription(e){let t=this.eventNameToSubscriptionMapping[e.eventName];t?t.push(e):(t=[]).push(e),this.eventNameToSubscriptionMapping[e.eventName]=t}static removeSubscription(e){let t=e.eventName,n=e.callbackName,i=this.eventNameToSubscriptionMapping[t];if(i){let e=[],t=0;for(let s of i)s.callbackName===n&&(e.push(t),t++);for(;e.length;){let t=e.pop();t&&i.splice(t,1)}}}static removeAllSubscriptions(e){this.eventNameToSubscriptionMapping.hasOwnProperty(e)&&delete this.eventNameToSubscriptionMapping[e]}static sendEvent(e,t){let n=this.eventNameToSubscriptionMapping[e];if(n)for(let e of n)e.listener(t);else i.Logger.logd("PhonePe","[Error] No subscribers for eventName = "+e)}}s.eventNameToSubscriptionMapping={},t.EventHandler=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(10).ExternalPaymentModels.ActionButtonProp;!function(e){let t,n,s,a,r;!function(e){e.discoveryModeValue="PEER_TO_MERCHANT",e.title="Pay",e.transactionType="SENT_PAYMENT",e.timeoutTitle="Payment Expired",e.timeoutMessage="Sorry! Your payment request timed out. Please try again.",e.timeoutActionButtonTitle="OK",e.dismissTitle="Are you sure?",e.dismissMessage="Going back will cancel the payment. Are you sure you want to proceed?",e.dismissPositiveButtonTitle="I'm sure",e.dismissNegativeButtonTitle="Dismiss",e.PAYMENT_TIMEOUT="PAYMENT_TIMEOUT",e.PAYMENT_DISMISS="PAYMENT_DISMISS",e.kMerchantId="merchantId",e.kSellingPrice="sellingPrice",e.kPayableAmount="payableAmount",e.kServiceType="serviceType",e.kServiceTypeValue="WEBAPP",e.kReservationId="reservationId",e.kServiceCategory="serviceCategory",e.kServiceCategoryValue="WEB",e.kServiceContext="serviceContext",e.kQuantity="quantity",e.kValidFor="validFor",e.kMerchantTransactionId="merchantTransactionId",e.kKey="key",e.kValue="value"}(t=e.Constant||(e.Constant={})),function(e){e[e.CONTACT_TYPE_VPA=1]="CONTACT_TYPE_VPA",e[e.CONTACT_TYPE_PHONE=2]="CONTACT_TYPE_PHONE",e[e.CONTACT_TYPE_MERCHANT=3]="CONTACT_TYPE_MERCHANT",e[e.CONTACT_TYPE_USER_DATA=4]="CONTACT_TYPE_USER_DATA",e[e.CONTACT_TYPE_EXTERNAL_UPI_MERCHANT=5]="CONTACT_TYPE_EXTERNAL_UPI_MERCHANT",e[e.CONTACT_TYPE_RETAIL_MERCHANT=6]="CONTACT_TYPE_RETAIL_MERCHANT",e[e.CONTACT_TYPE_BANK_ACCOUNT=7]="CONTACT_TYPE_BANK_ACCOUNT",e[e.CONTACT_TYPE_WALLET=8]="CONTACT_TYPE_WALLET",e[e.CONTACT_TYPE_MY_ACCOUNT=9]="CONTACT_TYPE_MY_ACCOUNT"}(n=e.CONTACT_TYPE||(e.CONTACT_TYPE={})),function(e){e[e.MODE_SEND_MONEY=1]="MODE_SEND_MONEY",e[e.MODE_SPLIT_MONEY=2]="MODE_SPLIT_MONEY",e[e.REQUEST_MONEY=3]="REQUEST_MONEY",e[e.MODE_RECHARGE_MOBILE=4]="MODE_RECHARGE_MOBILE",e[e.MODE_WALLET_TOP_UP=5]="MODE_WALLET_TOP_UP",e[e.MODE_BLE_PAYMENT=6]="MODE_BLE_PAYMENT"}(s=e.PAYMENT_MODE||(e.PAYMENT_MODE={})),function(e){e.SENT_PAYMENT="SENT_PAYMENT",e.RECEIVED_PAYMENT="RECEIVED_PAYMENT",e.USER_TO_USER_SENT_REQUEST="USER_TO_USER_SENT_REQUEST",e.USER_TO_USER_RECEIVED_REQUEST="USER_TO_USER_RECEIVED_REQUEST",e.ENSEMBLE_SENT_PAYMENT="ENSEMBLE_SENT_PAYMENT",e.MISSED_PAYMENT="MISSED_PAYMENT",e.PHONE_RECHARGE="PHONE_RECHARGE",e.BILL_PAYMENT="BILL_PAYMENT",e.TICKETING="TICKETING",e.COMMUTE="COMMUTE",e.UNKNOWN="UNKNOWN"}(a=e.TRANSACTION_TYPE||(e.TRANSACTION_TYPE={})),function(e){e.MERCHANT_REVERSAL="MERCHANT_REVERSAL",e.MERCHANT_CASHBACK="MERCHANT_CASHBACK"}(r=e.TRANSFER_MODE||(e.TRANSFER_MODE={}));e.Contact=class{constructor(e,t,n,i){this.type=e,this.name=t,this.displayImageUrl=n,this.lookupId=i}};e.InternalPaymentUiConfig=class{constructor(e,t,n,s,a){if(this.isAmountEditable=!1,this.isInitialContactEditable=!1,this.isNoteEditable=!1,this.showRateMeDialog=!1,this.title=e,this.initialAmount=t,this.initialContactList=n,this.confirmationScreenDuration=s,a)this.confirmationActionButtonProperties=a;else{let e={PENDING:new i("DONE"),COMPLETED:new i("VIEW BOOKING"),ERRORED:new i("DONE"),DEFAULT:new i("DONE")};this.confirmationActionButtonProperties=e}}};class o{constructor(e){this.allowedInstruments=e,this.supportedInstruments=e}}e.PayRequest=o;e.MicroPayRequest=class extends o{constructor(e,t,n,i){super(t),this.merchantId=e,this.fallbackURL=n,this.paymentOptionsContext=i}};e.PaymentTimeOutModel=class{constructor(e,t,n,i,s,a){this.time=e,this.showDialog=t,this.title=n,this.message=i,this.actionButtonName=s,this.errorCode=a}};e.DismissBehaviourModel=class{constructor(e,t,n,i,s,a){this.showDialog=e,this.title=t,this.message=n,this.positiveButton=i,this.negativeButton=s,this.errorCode=a}};e.TopUpConsentContext=class{constructor(e,t,n){this.showDialog=e,this.title=t,this.message=n}};e.AddToWalletUiContext=class{constructor(e,t,n,i,s,a,r,o,c,l,d,u){this.walletPageTitle=e,this.suggestedAmount=t,this.showCloseWalletOption=n,this.hideWalletWithdrawal=i,this.minAmount=s,this.showRateMeDialog=a,this.isAmountEditable=r,this.confirmationScreenDuration=o,this.showTopupConsent=c,this.topUpConsentContext=l,this.paymentDismiss=d,this.paymentOptionsContext=u}};e.MandateConfig=class{constructor(e,t,n,i,s,a){this.type=e,this.merchantId=t,this.serviceProviderIds=n,this.serviceType=i,this.serviceCategory=s,this.entityType=a}};e.MandateVisibleProperties=class{constructor(e,t,n,i,s){this.amount=e,this.frequency=t,this.autoPayDay=n,this.payeeWidget=i,this.toolbar=s}};e.MandateUiConfig=class{constructor(e,t,n,i,s,a,r,o,c,l,d,u,h,g,P){this.visibilityProperty=e,this.analyticsInfo=t,this.successMessage=n,this.actionButtonText=i,this.title=s,this.merchantName=a,this.merchantMandateDescription=r,this.merchantBannerImageId=o,this.merchantBannerImageSection=c,this.merchantImageId=l,this.merchantImageSection=d,this.mandateInfoLink=u,this.confirmationScreenDuration=h,this.dismissButtonDisplayTimeout=g,this.contactId=P}};e.PaymentOptionsContext=class{constructor(e){this.type="FULFILL_SERVICE",this.metaData=e}};e.PaymentOptionsContextMetadata=class{constructor(e,t,n,i){this.merchantId=e,this.serviceCategory=t,this.serviceProviderId=n,this.serviceType=i}}}(t.ExternalPaymentsNamespace||(t.ExternalPaymentsNamespace={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){let t;!function(e){e.PENDING="PENDING",e.COMPLETED="COMPLETED",e.ERRORED="ERRORED",e.DEFAULT="DEFAULT"}(t=e.TransactionState||(e.TransactionState={}));e.ActionButtonProp=class{constructor(e,t){this.name=e,this.shouldHide=t}}}(t.ExternalPaymentModels||(t.ExternalPaymentModels={}))},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(s,a){function r(e){try{c(i.next(e))}catch(e){a(e)}}function o(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){e.done?s(e.value):new n(function(t){t(e.value)}).then(r,o)}c((i=i.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const s=n(5),a=n(2),r=n(1),o=n(3);class c{static initSupportedVersionFromNative(){return i(this,void 0,void 0,function*(){yield this.fetchNativeSupportedSDKVersion().then(e=>{s.Logger.logd("PhonePe","Version received from native side = "+e),c.version=Number(e)}).catch(e=>{throw s.Logger.logd("PhonePe","Error found when trying to fetch version = "+e),Error("Something is really wrong here! We should be able to fetch version always. Are you sure you are testing it inside the PhonePe app?")}),this.populateMethodToVersionMapping()})}static isMethodSupported(e){if(e===r.PhonePeSDKWebConstants.Metadata.supportedVersion)return!0;if(!c.version)throw s.Logger.logd("PhonePe","[Error] Can't call isMethodSupported before native has returned the version"),Error("Can't call isMethodSupported before native has returned the version");let t=c.methodToVersionMapping[e];if(!t)throw s.Logger.logd("PhonePe","[Error] Could not find this method in mapping. This should never happen!"),Error("Could not find this method in mapping. This should never happen!");{let e=t[r.PhonePeSDKWebConstants.General.min],n=t[r.PhonePeSDKWebConstants.General.max],i=c.version;if(s.Logger.logd("PhonePe","Comparing minVersion = "+e+" maxVersion = "+n+" nativeSDKSupportVersion = "+i),i<e)return!1;if(-1!==n&&i>n)return!1}return!0}static fetchNativeSupportedSDKVersion(){return s.Logger.logd("PhonePe","Trying to call supportedVersion method in fetchNativeSupportedSDKVersion"),a.MessagingHandler.storePromiseAndCallNative(r.PhonePeSDKWebConstants.Metadata.supportedVersion,r.PhonePeSDKWebConstants.Metadata.androidBridgeName,{})}static populateMethodToVersionMapping(){let e={min:1,max:-1};this.methodToVersionMapping[r.PhonePeSDKWebConstants.Preferences.getItem]=e,this.methodToVersionMapping[r.PhonePeSDKWebConstants.Preferences.setItem]=e,this.methodToVersionMapping[r.PhonePeSDKWebConstants.Preferences.removeItem]=e,this.methodToVersionMapping[r.PhonePeSDKWebConstants.Preferences.removeItemAndroid]=e,this.methodToVersionMapping[r.PhonePeSDKWebConstants.Location.startUpdatingLocation]=e,this.methodToVersionMapping[r.PhonePeSDKWebConstants.Location.stopUpdatingLocation]=e,this.methodToVersionMapping[r.PhonePeSDKWebConstants.Location.getCurrentLocation]=e,this.methodToVersionMapping[r.PhonePeSDKWebConstants.Navigation.navigateToPath]=e,this.methodToVersionMapping[r.PhonePeSDKWebConstants.Navigation.navigateToPathForResult]=e,this.methodToVersionMapping[r.PhonePeSDKWebConstants.NavigationIOS.navigateToPaymentsView]=e,this.methodToVersionMapping[r.PhonePeSDKWebConstants.NavigationIOS.navigateToHelpPage]=e,this.methodToVersionMapping[r.PhonePeSDKWebConstants.NavigationIOS.navigateToTransactionDetail]=e,this.methodToVersionMapping[r.PhonePeSDKWebConstants.User.getUserDetails]=e,this.methodToVersionMapping[r.PhonePeSDKWebConstants.Metadata.supportedVersion]=e,this.methodToVersionMapping[o.InternalConstants.PermissionsBridge.openSettingsPage]=e,this.methodToVersionMapping[o.InternalConstants.PermissionsBridge.seekPermission]=e,this.methodToVersionMapping[o.InternalConstants.AnalyticsBridge.methodName]=e,this.methodToVersionMapping[o.InternalConstants.AuthBridge.methodName]=e,this.methodToVersionMapping[o.InternalConstants.CameraBridge.scanQRCode]=e,this.methodToVersionMapping[o.InternalConstants.CameraBridge.startCamera]=e}}c.methodToVersionMapping={},t.MethodVersioningHandler=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(2);var s=n(1).PhonePeSDKWebConstants.Camera;t.WebNativeCameraBridge=class{scanQRCode(e,t){return new Promise((n,a)=>{i.MessagingHandler.storePromiseAndCallNative(s.scanQRCode,s.androidBridgeName,{showGallery:e,validator:t}).then(e=>{n(JSON.parse(e))}).catch(e=>{a(e)})})}startCamera(){return new Promise((e,t)=>{i.MessagingHandler.storePromiseAndCallNative(s.startCamera,s.androidBridgeName,{}).then(t=>{e(JSON.parse(t))}).catch(e=>{t(e)})})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(12),s=n(0);t.NativeCameraBridgeFactory=class{static getNativeCameraBridge(e){if(e===s.ExternalConstants.Species.web)return new i.WebNativeCameraBridge;throw new Error("Wrong species sent")}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.WebNativeDeviceInfoBridge=class{getDeviceInfo(){return Promise.resolve()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(14),s=n(0);t.NativeDeviceInfoBridgeFactory=class{static bridge(e){if(e===s.ExternalConstants.Species.web)return new i.WebNativeDeviceInfoBridge;throw new Error("Wrong species sent")}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(5),s=n(2),a=n(0),r=n(1);var o=r.PhonePeSDKWebConstants.Preferences;t.WebNativePreferenceBridge=class{constructor(e){this.operatingSystem=e}getString(e,t,n){let i=this.prefObject(e,t,void 0,n);return s.MessagingHandler.storePromiseAndCallNative(o.getItem,o.androidBridgeName,i)}getNumber(e,t,n){return new Promise((e,t)=>{t("This should not be called in case of web pref bridge")})}getDecryptedUserId(){return new Promise((e,t)=>{t("This should not be called in case of web pref bridge")})}saveNumber(e,t,n){i.Logger.logd("PhonePe","[Error] his should not be called in case of web pref bridge")}saveString(e,t,n){let i=this.prefObject(e,t,n,void 0);s.MessagingHandler.callNative(o.setItem,o.androidBridgeName,i)}removeItem(e,t){let n=this.prefObject(e,t,void 0,void 0),i=o.removeItem;this.operatingSystem===a.ExternalConstants.OS.android&&(i=o.removeItemAndroid),s.MessagingHandler.callNative(i,r.PhonePeSDKWebConstants.Preferences.androidBridgeName,n)}prefObject(e,t,n,i){let s={};return e&&(s[r.PhonePeSDKWebConstants.General.prefName]=e),t&&(s[r.PhonePeSDKWebConstants.General.key]=t),i&&(s[r.PhonePeSDKWebConstants.General.defaultValue]=i),n&&(s[r.PhonePeSDKWebConstants.General.value]=n),s}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(16),s=n(0);t.NativePreferenceBridgeFactory=class{static getNativePreferenceBridge(e,t){if(e===s.ExternalConstants.Species.web)return new i.WebNativePreferenceBridge(t);throw new Error("Wrong species sent")}}},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(s,a){function r(e){try{c(i.next(e))}catch(e){a(e)}}function o(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){e.done?s(e.value):new n(function(t){t(e.value)}).then(r,o)}c((i=i.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const s=n(4),a=n(7),r=n(2),o=n(1);t.IOSWebNavigationHandler=class{processNavigationRequestAsync(e,t){return i(this,void 0,void 0,function*(){if(e.screenType===a.NavigationScreenType.PaymentsView){let n=e;return this.navigateToPayment(n,e.isNewTask,t)}if(e.screenType===a.NavigationScreenType.TransactionDetail){let n=e;return this.navigateToTransactionDetail(n,e.isNewTask,t)}return s.PhonePeUtils.returnRejection("Unhandled request type")})}processNavigationRequestForResultAsync(e){return i(this,void 0,void 0,function*(){return this.processNavigationRequestAsync(e,!0)})}navigateToPayment(e,t,n){let i=e,s=o.PhonePeSDKWebConstants.NavigationIOS.navigateToPaymentsView;return r.MessagingHandler.storePromiseAndCallNative(s,"",i)}navigateToTransactionDetail(e,t,n){return i(this,void 0,void 0,function*(){let t=e,n=o.PhonePeSDKWebConstants.NavigationIOS.navigateToTransactionDetail;return r.MessagingHandler.storePromiseAndCallNative(n,"",t)})}closeAppRequest(e){}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Node=class{constructor(e,t,n){this.name=e,this.screenType=t,this.data=n}};t.Path=class{constructor(e){this.node=e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(19);t.NativeNavigationRequestFactory=class{static pathFromPaymentRequest(e,t){let n=[],s=new i.Node("payment_activity","ACTIVITY",{}),a={};a.mode=JSON.stringify(e.mode),a.internalPaymentUiConfig=JSON.stringify(e.internalPaymentUiConfig),a.microPayRequest=JSON.stringify(e.microPayRequest),a.transactionType=JSON.stringify(e.transactionType),a.info=JSON.stringify(e.originInfo),a.metaData=JSON.stringify(e.metaData);let r=new i.Node("micro_app_payment","FRAGMENT",a);return n.push(s),n.push(r),new i.Path(n)}static pathFromTransactionDetailsRequest(e,t){let n=[],s=new i.Node("transaction_details_activity","ACTIVITY",{}),a={};a.transactionId=JSON.stringify(e.transactionId),a.transactionType=JSON.stringify("TICKETING"),a.info=JSON.stringify(e.info);let r=new i.Node("transaction_details_fragment","FRAGMENT",a);return n.push(s),n.push(r),new i.Path(n)}}},function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(s,a){function r(e){try{c(i.next(e))}catch(e){a(e)}}function o(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){e.done?s(e.value):new n(function(t){t(e.value)}).then(r,o)}c((i=i.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const s=n(4),a=n(2),r=n(20),o=n(7),c=n(1),l=n(3);var d=c.PhonePeSDKWebConstants.Navigation,u=l.InternalConstants.ActivityID;class h{processNavigationRequestAsync(e,t){return i(this,void 0,void 0,function*(){if(e.screenType===o.NavigationScreenType.PaymentsView){let n=e;return this.navigateToPayment(n,e.isNewTask,t)}if(e.screenType===o.NavigationScreenType.TransactionDetail){let n=e;return this.navigateToTransactionDetail(n,e.isNewTask,t)}return s.PhonePeUtils.returnRejection("Unhandled request type")})}processNavigationRequestForResultAsync(e){return i(this,void 0,void 0,function*(){return this.processNavigationRequestAsync(e,!0)})}navigateToPayment(e,t,n){let i=r.NativeNavigationRequestFactory.pathFromPaymentRequest(e,t),s=this.objectForNavigation(i,u.payments,t);return n?a.MessagingHandler.storePromiseAndCallNative(d.navigateToPathForResult,d.androidBridgeName,s):a.MessagingHandler.callNative(d.navigateToPath,d.androidBridgeName,s)}navigateToTransactionDetail(e,t,n){return i(this,void 0,void 0,function*(){let i=r.NativeNavigationRequestFactory.pathFromTransactionDetailsRequest(e,t),s=this.objectForNavigation(i,u.transactionDetails,t);return n?a.MessagingHandler.storePromiseAndCallNative(d.navigateToPathForResult,d.androidBridgeName,s):a.MessagingHandler.callNative(d.navigateToPath,d.androidBridgeName,s)})}objectForNavigation(e,t,n){let i={};return i[h.pathKey]=JSON.stringify(e),i[h.activityIdKey]=t,i[h.isNewTaskKey]=n?268435456:0,i}closeAppRequest(e){}}h.pathKey="path",h.activityIdKey="activityId",h.isNewTaskKey="isNewTask",t.AndroidWebNavigationHandler=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(21),s=n(18),a=n(0);t.NativeNavigationFactory=class{static repository(e,t){if(e===a.ExternalConstants.Species.web)return t===a.ExternalConstants.OS.ios?new s.IOSWebNavigationHandler:new i.AndroidWebNavigationHandler;throw new Error("Wrong species sent")}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(8);t.PhonePeWebSubscription=class{constructor(e,t,n){this.eventName=t,this.listener=n,this.callbackName=e}remove(){i.EventHandler.removeSubscription(this)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(23),s=n(1),a=n(2),r=n(8);var o=s.PhonePeSDKWebConstants.Location;t.WebLocationBridge=class{getAddress(e,t){return Promise.resolve()}startUpdatingLocation(){a.MessagingHandler.callNative(o.startUpdatingLocation,o.androidBridgeName,{})}stopUpdatingLocation(){a.MessagingHandler.callNative(o.stopUpdatingLocation,o.androidBridgeName,{}),r.EventHandler.removeAllSubscriptions(o.locationSuccessEventKey),r.EventHandler.removeAllSubscriptions(o.locationFailureEventKey)}getCurrentLocation(){let e={};return e[o.forceNewLocation]=!0,a.MessagingHandler.storePromiseAndCallNative(o.getCurrentLocation,o.androidBridgeName,e)}onLocationUpdateSuccess(e,t){let n=new i.PhonePeWebSubscription(e,o.locationSuccessEventKey,t);return r.EventHandler.addSubscription(n),n}onLocationUpdateFailure(e,t){let n=new i.PhonePeWebSubscription(e,o.locationFailureEventKey,t);return r.EventHandler.addSubscription(n),n}isLocationTurnedOn(){return Promise.resolve()}turnOnLocation(){return Promise.resolve()}setLocationPriority(e){}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(24),s=n(0);t.LocationBridgeFactory=class{static getNativeLocationBridge(e,t){if(e===s.ExternalConstants.Species.web)return new i.WebLocationBridge;throw new Error("Wrong species sent")}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.AnalyticsInfo=class{constructor(e,t,n){this.category=e,this.action=t,this.groupingKey=n,this.startTimeStamp=(new Date).getTime(),this.lastTimeStamp=this.startTimeStamp,this.customDimens={},this.isTransactionalEvent=!1,this.value=0,this.isFirstTime=!0}setValue(e){this.value=e}setTransactionalEvent(e){this.isTransactionalEvent=!0,this.value=e}setCustomDimension(e){this.customDimens=e}setLastTimeStamp(e){this.lastTimeStamp=e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(9);var s=i.ExternalPaymentsNamespace.Constant,a=i.ExternalPaymentsNamespace.PaymentOptionsContext,r=i.ExternalPaymentsNamespace.PaymentOptionsContextMetadata,o=i.ExternalPaymentsNamespace.MicroPayRequest,c=i.ExternalPaymentsNamespace.PaymentTimeOutModel,l=i.ExternalPaymentsNamespace.DismissBehaviourModel,d=i.ExternalPaymentsNamespace.InternalPaymentUiConfig,u=i.ExternalPaymentsNamespace.Contact,h=i.ExternalPaymentsNamespace.CONTACT_TYPE;t.ExternalPaymentsRequestFactory=class{static microPayRequest(e,t){let n=new o(e[s.kMerchantId],191,t);n.serviceProviderId=n.merchantId;let i={};i[s.kSellingPrice]=e[s.kPayableAmount],i[s.kServiceType]=s.kServiceTypeValue,i[s.kReservationId]=e[s.kReservationId];let c={};c[s.kServiceCategory]=e[s.kServiceCategory],i[s.kServiceContext]=c,e[s.kQuantity]&&(i[s.kQuantity]=e[s.kQuantity]),n.fulFillContext=JSON.stringify(i),n.discoveryContext=JSON.stringify(this.discoveryContext(n.merchantId));let l=new r(n.merchantId,e[s.kServiceCategory],n.merchantId,s.kServiceTypeValue);return n.paymentOptionsContext=JSON.stringify(new a(l)),n}static discoveryContext(e){return{merchantId:e,mode:"PEER_TO_MERCHANT"}}static internalPaymentUIConfig(e,t,n,i,s,a){let r=[new u(h.CONTACT_TYPE_MERCHANT,t,i,a)],o=new d("PAY",e,r,0,s);return void 0!==n&&null!==n&&n>0&&(o.paymentTimeout=this.paymentTimeoutModel(n)),o.paymentDismiss=this.paymentDismissModel(),o}static paymentTimeoutModel(e){return new c(e,!0,s.timeoutTitle,s.timeoutMessage,s.timeoutActionButtonTitle,s.PAYMENT_TIMEOUT)}static paymentDismissModel(){return new l(!0,s.dismissTitle,s.dismissMessage,s.dismissPositiveButtonTitle,s.dismissNegativeButtonTitle,s.PAYMENT_DISMISS)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.OriginInfo=class{constructor(e){this.analyticsInfo=e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(28),s=n(27),a=n(7),r=n(9),o=n(26);var c=r.ExternalPaymentsNamespace.Constant;t.ExternalNavigationFactory=class{static paymentNavigationRequest(e,t,n,l,d,u){let h=t[r.ExternalPaymentsNamespace.Constant.kPayableAmount],g=t[r.ExternalPaymentsNamespace.Constant.kValidFor];g&&(g*=1e3);let P=t[c.kMerchantId],p=s.ExternalPaymentsRequestFactory.internalPaymentUIConfig(h,e,g,l,u,P),m=s.ExternalPaymentsRequestFactory.microPayRequest(t,n),v=new a.PaymentMetaData([{}]);if(void 0!==d){let e=[];for(let t of d)for(let n in t)if(t.hasOwnProperty(n)){let i=n,s=t[n],a={};a[c.kKey]=i,a[c.kValue]=s,e.push(a)}v.details=e}let N=t[c.kServiceCategory];N||(N="JSSDK");let T=new i.OriginInfo(new o.AnalyticsInfo(N,N+"_NAVIGATE_TO_PAYMENTS",Math.random().toString(36).substring(7)));return new a.PaymentNavigationRequest("Pay","Pay",!0,!1,r.ExternalPaymentsNamespace.PAYMENT_MODE.MODE_SEND_MONEY,m,p,r.ExternalPaymentsNamespace.TRANSACTION_TYPE.SENT_PAYMENT,v,T)}static transactionDetailRequest(e){let t=new i.OriginInfo(new o.AnalyticsInfo("JSSDK","JSSDK_NAVIGATE_TO_TRANSACTION_DETAILS",Math.random().toString(36).substring(7)));return new a.TransactionDetailsNavigationRequest("Details","Details",!0,!1,e,r.ExternalPaymentsNamespace.TRANSACTION_TYPE.SENT_PAYMENT,t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(5),s=n(4),a=n(6);var r=n(3).InternalConstants.PermissionsBridge;t.WebPermissionsBridge=class{constructor(e){this.operatingSystem=e}seekPermission(e){let t=s.PhonePeUtils.osSpecificPermissionNames(e,this.operatingSystem);return new Promise((e,n)=>{a.MessagingHandler.storePromiseAndCallNative(r.seekPermission,r.name,{permissions:t}).then(t=>{if(i.Logger.logd("PhonePe","Unstripped response = "+JSON.stringify(t)),"string"==typeof t){let n=JSON.parse(t);n.forEach(e=>{let t=s.PhonePeUtils.strippedPermissionName(e[r.kPermission],this.operatingSystem);e[r.kPermission]=t}),i.Logger.logd("PhonePe","Stripped response = "+JSON.stringify(n)),e(n)}else n("Wrong response sent by PhonePe")}).catch(e=>{n(e)})})}openSettingsPageForPermission(){return a.MessagingHandler.storePromiseAndCallNative(r.openSettingsPage,r.name,{})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(30),s=n(0);t.NativePermissionsBridgeFactory=class{static getPermissionsBridge(e,t){if(e===s.ExternalConstants.Species.web)return new i.WebPermissionsBridge(t);throw new Error("Wrong species sent")}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(6),s=n(3);var a=s.InternalConstants.AnalyticsBridge;t.WebNativeAnalyticsBridge=class{logMerchantEvent(e,t){return i.MessagingHandler.storePromiseAndCallNative(a.methodName,a.bridgeName,this.objectForAnalytics(e,t))}objectForAnalytics(e,t){let n={};return n[s.InternalConstants.AnalyticsBridge.kName]=e,t&&(n[s.InternalConstants.AnalyticsBridge.kMetadata]=t),n}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(32),s=n(0);t.NativeAnalyticsBridgeFactory=class{static getNativeAnalyticsBridge(e,t){if(e===s.ExternalConstants.Species.web)return new i.WebNativeAnalyticsBridge;throw new Error("Wrong species sent")}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(6),s=n(3).InternalConstants.AuthBridge;t.WebNativeOAuthBridge=class{fetchGrantToken(){return new Promise((e,t)=>{i.MessagingHandler.storePromiseAndCallNative(s.methodName,s.bridgeName,{}).then(t=>{e(JSON.parse(t))}).catch(e=>{t(e)})})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(34),s=n(0);t.NativeOAuthBridgeFactory=class{static bridge(e){if(e===s.ExternalConstants.Species.web)return new i.WebNativeOAuthBridge;throw new Error("Wrong species sent")}}}]);